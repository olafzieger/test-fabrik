var FbSlider=new Class({Extends:FbElement,initialize:function(d,c){this.parent(d,c);this.plugin="slider";var b=false;if(typeOf(this.options.value)==="null"||this.options.value===""){this.options.value="";b=true}this.options.value=this.options.value===""?"":this.options.value.toInt();var a=this.options.value;if(this.options.editable===true){if(typeOf(this.element)==="null"){fconsole("no element found for slider");return}this.output=this.element.getElement(".fabrikinput");this.output2=this.element.getElement(".slider_output");this.output.value=this.options.value;this.output2.set("text",this.options.value);this.mySlide=new Slider(this.element.getElement(".fabrikslider-line"),this.element.getElement(".knob"),{onChange:function(e){this.output.value=e;this.options.value=e;this.output2.set("text",e);this.output.fireEvent("blur",new Event.Mock(this.output,"blur"));this.callChange()}.bind(this),onComplete:function(e){this.output.fireEvent("blur",new Event.Mock(this.output,"change"));this.element.fireEvent("change",new Event.Mock(this.element,"change"))}.bind(this),steps:this.options.steps}).set(a);if(b){this.output.value="";this.output2.set("text","");this.options.value=""}this.watchClear()}},watchClear:function(){this.element.addEvent("click:relay(.clearslider)",function(b,a){b.preventDefault();this.mySlide.set(0);this.output.value="";this.output.fireEvent("blur",new Event.Mock(this.output,"change"));this.output2.set("text","")}.bind(this))},getValue:function(){return this.options.value},callChange:function(){typeOf(this.changejs)==="function"?this.changejs.delay(0):eval(this.changejs)},addNewEvent:function(a,b){if(a==="load"){this.loadEvents.push(b);this.runLoadEvent(b);return}if(a==="change"){this.changejs=b}}});